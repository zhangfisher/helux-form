"use strict";(self.webpackChunkspeedform_docs=self.webpackChunkspeedform_docs||[]).push([[759],{58759:function(He,M,o){o.r(M),o.d(M,{api:function(){return V},delay:function(){return z},forms:function(){return D}});var V={};o.r(V),o.d(V,{getProjects:function(){return _}});var D={};o.r(D),o.d(D,{Network:function(){return Z},schema:function(){return X}});var k=o(90393),O=o.n(k),q=o(7392),T=o.n(q);function _(e){return N.apply(this,arguments)}function N(){return N=T()(O()().mark(function e(n){var t,r,a;return O()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(n);case 2:if(t=i.sent,!t.ok){i.next=11;break}return i.next=6,t.json();case 6:return r=i.sent,a=r.map(function(l){return{name:l.name,url:l.html_url,description:l.description,stars:l.stargazers_count}}),i.abrupt("return",a);case 11:throw new Error("".concat(t.status," - ").concat(t.statusText));case 12:case"end":return i.stop()}},e)})),N.apply(this,arguments)}var z=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1e3;return new Promise(function(t){setTimeout(t,n)})},c=o(57004),ee=o(79664),P=o.n(ee),te=o(70125),j=o.n(te),re=o(39114),C=o.n(re),f=o(70079),Le=o(26851),F=o(13192);function Ke(e){var n=_typeof(e);return e==null||n=="boolean"||n=="number"||n=="string"||n==null}function H(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=0,r,a=!0,u=function i(){if(r==null){a=!0,clearTimeout(t),t=0;return}try{var l=r;r=void 0,e.apply(void 0,P()(l)),t=setTimeout(function(){return i()},n)}finally{}};return function(){for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];if(n==0)return e.apply(void 0,l);r=l,(a||t==0)&&(a=!1,u())}}function Ue(e,n){var t={};for(var r in e)e[r]!==n[r]&&(t[r]=n[r]);return t}function L(e){return new Proxy({},{get:function(t,r,a){return e()[r]}})}function ne(e){return(0,F.P)(e)&&"execute"in e&&(0,F.P)(e.execute)&&"loading"in e.execute}function S(e){return(0,F.P)(e)&&"value"in e}function x(e){return Array.isArray(e)}function R(e){return(0,F.P)(e)&&!S(e)&&!ne(e)}var A="fields",We="actions",m=o(35250);function ae(e,n,t,r){return Object.assign({name:e,help:"",initial:void 0,oldValue:void 0,visible:!0,required:!1,readonly:!1,validate:null,enable:!0,placeholder:""},C()(C()({},n),{},{sync:t,update:r}))}function ue(e,n){var t=(0,f.useRef)(null);return(0,f.useCallback)(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(t.current==null){var a=e.sync(n);t.current=r==0?a:H(a,r)}return t.current},[])}function ie(e,n){var t=(0,f.useRef)(null),r=(0,f.useState)(0),a=j()(r,2),u=a[0],i=a[1];return(0,f.useCallback)(function(l,s){var v=Object.assign({debounce:0},s),d=v.debounce;if(t.current==null||u!==d){u!==d&&d>0&&i(d);var g=function(h){return function(b){n(typeof h=="function"?function(y){return h.call(y,y.fields)}:function(y){return(0,c.setVal)(y,e,h)}),typeof b.preventDefault=="function"&&b.preventDefault()}};t.current=d>0?g:H(g,d)}return t.current(l)},[])}var $=f.memo(function(e){return(0,m.jsx)(m.Fragment,{children:typeof e.children=="function"&&e.children(e.fieldProps)})},function(e,n){return Object.entries(e.fieldProps).every(function(t){var r=j()(t,2),a=r[0],u=r[1];return["children","sync","update"].includes(a)?!0:u===n.fieldProps[a]})});function le(e){var n=this;return f.memo(function(t){var r=t.name,a=Array.isArray(r)?r:r.split("."),u=[A].concat(P()(a)),i=[A].concat(P()(a));a.push("value"),i.push("value");var l=e.useState(function(b){return(0,c.getVal)(b,u)}),s=j()(l,2),v=s[0],d=s[1],g=ie(i,d),p=ue(e,i),h=ae(n.getFieldName(a),v,p,g);return t.render?(0,m.jsx)($,{fieldProps:h,children:t.render}):Array.isArray(t.children)?t.children.map(function(b){return(0,m.jsx)($,{fieldProps:h,children:b})}):(0,m.jsx)($,{fieldProps:h,children:t.children})},function(t,r){return t.name===r.name})}var K=o(23893);function se(e,n){return(0,f.useCallback)(function(t){n(function(r){t.call(r,(0,c.getVal)(r,e))})},[])}function U(e,n,t){return(0,K.w)({name:e,help:"",visible:!0,required:!1,readonly:!1,validate:!0,enable:!0,update:t},n)}function oe(e){var n=this;return f.memo(function(r){var a=r.name,u=e.useState(),i=j()(u,2),l=i[0],s=i[1],v=Array.isArray(a)?a:a.split("."),d=["fields"].concat(P()(v)),g=(0,c.getVal)(l,d),p=se(d,s),h=(0,f.useState)(function(){return U(n.getFieldName(v),g,p)}),b=j()(h,2),y=b[0],B=b[1];return(0,f.useEffect)(function(){B(U(n.getFieldName(v),g,p))},[g]),Array.isArray(r.children)?r.children.map(function(ze){return ze(y)}):r.children(y)},function(t,r){return t.name===r.name})}var ce=o(76120);function W(e){return e.value}function w(e){var n={};return Object.entries(e).forEach(function(t){var r=j()(t,2),a=r[0],u=r[1];if(typeof a=="string")if(S(u))n[a]=W(u);else if(R(u)){var i=w(u);i&&Object.keys(i).length>0&&(n[a]=i)}else x(u)&&(n[a]=Y(u))}),n}function Y(e){var n=[];return e.forEach(function(t){S(t)?n.push(W(t)):R(t)?n.push(w(t)):x(t)?n.push(Y(t)):n.push(t)}),n}function fe(e,n,t){var r=Object.assign({},t),a=r.onNotMatch,u=a===void 0?function(){}:a;function i(l,s){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object.entries(l).forEach(function(d){var g=j()(d,2),p=g[0],h=g[1];if(typeof p=="string"){var b=[].concat(P()(v),[p]);if(p in s){var y=s[p];S(y)?y.value=h:R(y)?(0,F.P)(h)?i(h,y,b):u(b):x(y)?Array.isArray(h)?i(h,y):u(b):s[p]=h}else u(b)}})}i(e,n)}function Ye(e,n){var t=new FormData,r=Object.assign({getItemName:function(l){return l.join(".")}},n),a=r.getItemName;function u(i,l){if(l!=null){var s=a?a(i):i.join(".");Array.isArray(l)?l.forEach(function(v,d){u([].concat(_toConsumableArray(i),[String(d)]),v)}):isPlainObject(l)?Object.entries(l).forEach(function(v){var d=_slicedToArray(v,2),g=d[0],p=d[1];u([].concat(_toConsumableArray(i),[g]),p)}):t.append(s,l)}}return u([],e),t}function de(e,n){return function(r,a){var u=Object.assign({},a);try{e.setEnableMutate(!1),fe(r,e.state.fields),e.setState(function(i){i.dirty=!1,i.validate=null})}catch(i){console.error(i)}finally{e.setEnableMutate(!0)}}}function ve(e,n){return w(e)}function me(e,n){return function(r){var a=Object.assign({},r);return ve((0,c.getSnap)(e.state).fields)}}function J(e,n){return function(){var t=T()(O()().mark(function r(a){var u;return O()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return u=Object.assign({},n,a),l.next=3,e.execute.run(u);case 3:if(!e.execute.error){l.next=7;break}throw new Error(e.execute.error);case 7:return l.abrupt("return",e.execute.result);case 8:case"end":return l.stop()}},r)}));return function(r){return t.apply(this,arguments)}}()}function he(e,n){var t=(0,f.useCallback)(function(a){var u=Object.assign({},{noReentry:!0,preventDefault:!0},n,a),i=J(e,u);return function(l){i(),l&&u.preventDefault&&typeof l.preventDefault=="function"&&l.preventDefault()}},[]),r=(0,f.useCallback)(function(a){e.execute.cancel(),a&&typeof a.preventDefault=="function"&&a.preventDefault()},[]);return[t,r]}function ge(e,n){return(0,f.useCallback)(function(t){var r=(0,c.getValueByPath)(e,[].concat(P()(Array.isArray(n)?n:n.split(".")),["execute"]));r.cancel(),t&&typeof t.preventDefault=="function"&&t.preventDefault()},[])}function pe(e,n,t,r){return Object.assign({help:"",title:"",visible:!0,enable:!0},(0,ce.C)(e,"execute"),C()(C()({},e.execute),{},{run:n,cancel:t,ref:r}))}var G=f.memo(function(e){return(0,m.jsx)(m.Fragment,{children:typeof e.children=="function"&&e.children(e.actionProps)})},function(e,n){return Object.entries(e.actionProps).every(function(t){var r=j()(t,2),a=r[0],u=r[1];return["children","run","cancel"].includes(a)?!0:u===n.actionProps[a]})});function ye(e,n,t){function r(a){var u=e.useState(),i=j()(u,1),l=i[0],s=a.name,v=(0,c.getValueByPath)(l,s,"."),d=he(v,n),g=j()(d,1),p=g[0],h=ge(l,s),b=(0,f.useRef)(null),y=pe(v,p,h,b);if(typeof a.render=="function")return(0,m.jsx)(G,{actionProps:y,children:a.render});if(a.children)return Array.isArray(a.children)?a.children.map(function(B){return(0,m.jsx)(G,{actionProps:y,children:B})}):(0,m.jsx)(G,{actionProps:y,children:a.children})}return f.memo(r,function(a,u){return a.name===u.name})}function be(e,n){return computed(function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function r(a,u){var i;return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=getFormData(getSnap(a,!1).fields),s.next=3,e(i,u);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r)}));return function(r,a){return t.apply(this,arguments)}}(),[],n)}function Je(e,n){return be(function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function r(a,u){var i;return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=new FormData,s.next=3,e(i,u);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r)}));return function(r,a){return t.apply(this,arguments)}}(),n)}var je=o(83443);function Ae(e){return e.length>1&&e[0]==A&&e[e.length-1]=="value"}function Ce(e){return(0,c.watch)(function(n,t){var r=t.getSelfValue,a=t.srcPath,u=t.selfPath;if((0,c.isIncludePath)(e||u,a)){var i=r();if(!i)return!0}},function(n){return Ae(n)},{initial:!1})}var Qe=o(41176),Xe=o(77937),Ze=o(65523),ke=o(7122),qe=o(19108),_e=null;function Pe(e){return e.length>1&&e[0]==A&&(e[e.length-1]==="validate"||e.length>=2&&e[e.length-2]=="validate"&&e[e.length-1]=="result")&&!(e.length==2&&e[1]=="validate")&&!(e.length==3&&e[1]=="validate"&&e[2]=="result")}function Oe(e){var n=Object.assign({},e),t=n.entry;return(0,c.watch)(function(r,a){var u=a.srcPath,i=a.selfPath,l=a.getCache;if((0,c.isIncludePath)(t||i,u)){var s=l();if(typeof r=="boolean"){var v=u.join(c.OBJECT_PATH_DELIMITER);r?delete s[v]:s[v]=r}return Object.keys(s).length==0}},function(r){return Pe(r)},{initial:!0})}function et(e,n){var t=typeof e=="function"?e():e;if(!t)throw new ValidationError(typeof n=="function"?n():n)}var Fe={title:"SpeedForm",help:"",tips:"",status:"idle",dirty:Ce(["fields"]),validate:Oe({entry:["fields"]}),readonly:!1,enable:!0,visible:!0},Se=o(83038);function xe(e){var n={};return Object.entries(e||{}).forEach(function(t){var r=j()(t,2),a=r[0],u=r[1];S(u)||R(u)||x(u)||(n[a]=u)}),n}function Re(e){return Object.assign({type:"submit",help:"",title:"",dirty:!1,validate:!0,visible:!0,enable:!0,readOnly:!0},xe(e))}var I=f.memo(function(e){return(0,m.jsx)(m.Fragment,{children:typeof e.children=="function"&&e.children(e.submitProps)})},function(e,n){return Object.entries(e.submitProps).every(function(t){var r=j()(t,2),a=r[0],u=r[1];return["children","render"].includes(a)?!0:u===n.submitProps[a]})}),Ee=(0,Se.zo)(function(e,n){var t,r,a=n.className,u=e.visible;return(0,m.jsx)("input",{className:a,style:Object.assign({display:u?"inline-block":"none"},e.style),type:(t=e.type)!==null&&t!==void 0?t:"submit",value:(r=e.title)!==null&&r!==void 0?r:"\u63D0\u4EA4"})},{minWidth:"80px",cursor:"pointer",boxSizing:"border-box",margin:"2px",transition:"filter 0.3s","&:hover":{filter:"brightness(1.2)"}});function Q(e,n,t){var r=Object.assign({preventDefault:!1},n);function a(u){var i=e.useState(),l=j()(i,1),s=l[0],v=u.scope,d=(0,c.getValueByPath)(s,v),g=Re(d),p=typeof u.render=="function"?1:Array.isArray(u.children)?2:typeof u.children=="function"?3:0;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ee,C()({visible:p==0},r)),p===1?(0,m.jsx)(I,{submitProps:g,children:u.render}):p===2?u.children.map(function(h){return(0,m.jsx)(I,{submitProps:g,children:h})}):(0,m.jsx)(I,{submitProps:g,children:u.children})]})}return f.memo(a,function(u,i){return u.name===i.name})}function Ve(e,n,t){return Q(e,C()({type:"submit",title:"\u63D0\u4EA4",style:{borderRadius:"4px",padding:"8px",background:"#1c8ceb",border:"1px solid #1c8ceb",color:"#fff"}},n),t)}function De(e,n,t){return Q(e,C()({type:"reset",title:"\u91CD\u7F6E",style:{borderRadius:"4px",padding:"8px",background:"#eee",border:"1px solid #bbb"}},n),t)}function Te(e,n,t){e.length>=2&&e[0]==A&&e[e.length-1]=="validate"&&(t.scope||(t.scope="value"),t.depends||(t.depends=[]),t.depends.push([].concat(P()(e.slice(0,-1)),["value"])),t.initial=!0)}function Ne(e){(0,je.w)(e,Fe)}function $e(e,n,t){e.length>1&&e[e.length-1]=="execute"&&(t.immediate=!1,t.scope=[A],t.noReentry=!0)}function we(e,n,t){e.length>0&&e[0]==A&&t.depends&&t.depends.forEach(function(r,a){Array.isArray(r)&&r.length>0&&r[0]!=A?t.depends[a]=[A].concat(P()(r)):typeof r=="string"&&!r.startsWith("".concat(A,"."))&&(t.depends[a]="".concat(A,".").concat(r))})}function Ge(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;e.setEnableMutate(n)}}function Ie(e,n){var t=(0,K.w)({getFieldName:function(u){return u.length>0?u[u.length-1]==="value"?u.slice(0,-1).join("."):u.join("."):""},singleton:!0},n);Ne(e);var r=(0,c.createStore)({state:e},{debug:t.debug,singleton:t.singleton,computedThis:c.ComputedScopeRef.Root,computedScope:[A],onCreateComputed:function(u,i,l){Te(u,i,l),we(u,i,l),$e(u,i,l)},onComputedContext:function(u,i){var l=i.type,s=i.valuePath;if(l=="scope"&&s.length>0&&s[0]==A)return u.fields}});return{Form:Be.call(t,r),Field:le.call(t,r),Group:oe.call(t,r),Action:ye(r,{},t),Submit:Ve(r,{},t),Reset:De(r,{},t),getAction:J,fields:L(function(){return r.state.fields}),actions:L(function(){return r.state.actions}),state:r.state,useState:r.useState,freeze:Ge(r),load:de(r,t),getValues:me(r,t),computedObjects:r.computedObjects,watchObjects:r.watchObjects,store:r}}function Be(e){return f.forwardRef(function(n,t){var r=n.children,a=(0,f.useCallback)(function(i){},[]),u=(0,f.useCallback)(function(i){},[]);return(0,m.jsx)("form",C()(C()({ref:t,className:"speedform-form"},n),{},{onSubmit:a,onReset:u,children:r}))})}var Me=o(99166),E=o.n(Me),X={title:"\u7F51\u7EDC\u914D\u7F6E",fields:{title:{value:"React-Helux-Form",placeholder:"\u8F93\u5165\u7F51\u7EDC\u914D\u7F6E\u540D\u79F0",title:"\u7F51\u7EDC\u540D\u79F0",validate:function(n){return n.length>3}},interface:{value:"wifi",title:"\u7F51\u5361\u7C7B\u578B",select:function(){return[{value:"wifi",title:"\u65E0\u7EBF\u7F51\u5361"},{value:"ethernet",title:"\u6709\u7EBF\u7F51\u5361"}]}},ip:{value:"1.1.1.1",title:"IP\u5730\u5740",validate:(0,c.computed)(function(){var e=T()(O()().mark(function n(t){return O()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,z(2e3);case 2:return a.abrupt("return",E().isIP(String(t)));case 3:case"end":return a.stop()}},n)}));return function(n){return e.apply(this,arguments)}}(),[],{async:!0})},gateway:{value:"1.1.1.1",title:"\u7F51\u5173\u5730\u5740",validate:function(n){return E().isIP(n)}},dhcp:{enable:{title:"\u81EA\u52A8\u83B7\u53D6IP\u5730\u5740",value:!0},start:{title:"\u8D77\u59CB\u5730\u5740",value:"192.168.1.1",enable:(0,c.computed)(function(e){return e.enable.value},{scope:c.ComputedScopeRef.Parent}),validate:function(n){return E().isIP(n)}},end:{title:"\u7ED3\u675F\u5730\u5740",value:"192.168.1.100",enable:(0,c.computed)(function(e){return e.dhcp.enable.value},{scope:c.ComputedScopeRef.Root}),validate:function(n){return E().isIP(n)}}},wifi:{title:"\u65E0\u7EBF\u914D\u7F6E",visible:(0,c.computed)(function(e){return e.interface.value==="wifi"},{scope:c.ComputedScopeRef.Root}),ssid:{value:"fast",placeholder:"\u65E0\u7EBF\u7F51\u7EDC",validate:function(n){return n.length>3}},password:{value:"123",placeholder:"\u8F93\u5165\u65E0\u7EBF\u5BC6\u7801",help:"\u5BC6\u7801\u957F\u5EA6\u5E94\u4E0D\u5C0F\u4E8E6\u4F4D",enable:function(n){return n.interface.value==="wifi"},validate:function(n){return n.length>=6}}}}},Z=Ie(X,{debug:!0});globalThis.Network=Z}}]);
