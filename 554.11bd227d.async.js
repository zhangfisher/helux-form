(self.webpackChunkspeedform_docs=self.webpackChunkspeedform_docs||[]).push([[554],{1538:function(ht,G,l){"use strict";l.r(G),l.d(G,{$:function(){return m.$},ComputedObjects:function(){return Vt},ComputedScopeRef:function(){return T},OBJECT_PATH_DELIMITER:function(){return j},WatchObjects:function(){return It},computed:function(){return Dt},createAction:function(){return At},createActions:function(){return xt},createAsyncComputedMutate:function(){return st},createAsyncComputedObject:function(){return rt},createComputedMutate:function(){return it},createObject:function(){return m.share},createStore:function(){return xe},createUseWatch:function(){return me},createWatch:function(){return lt},getSnap:function(){return m.getSnap},getVal:function(){return k},getValueByPath:function(){return U},installComputed:function(){return ct},installWatch:function(){return Pt},isIncludePath:function(){return Ht},isSkipComputed:function(){return mt},markRaw:function(){return m.markRaw},reactive:function(){return Ae},setAsyncComputedObject:function(){return jt},setVal:function(){return L},skipComputed:function(){return tt},watch:function(){return ye}});var m=l(67687),$t=l(70125),Y=l.n($t);function yt(t){return t.map(function(e){return Array.isArray(e)?e.join("."):e}).join("_")}function gt(t,e){var a="";return typeof e=="function"?a=e(t):typeof e=="string"?a=e:a=yt(t),a}function Ut(t){return t instanceof Error?t:new Error(t)}function mt(t){return t[SKIP_COMPUTED]===!0}var Nt=l(79664),E=l.n(Nt),j="/";function Ct(t,e){if(!Array.isArray(t))throw new Error("path must be an array");return e==="self"?t:e==="root"?[]:e==="parent"?t.slice(0,-2):e==="current"?t.slice(0,-1):typeof e=="string"?e.startsWith("./")?[].concat(E()(t.slice(0,-1)),E()(e.slice(2).split(j))):e.startsWith("../")?Ct(t.slice(0,-1),e.slice(3)):(e.includes(".")&&(console.warn('[@speedform/reactive] The dependency path uses "/" as the separator, and will automatically convert'),e=e.replaceAll(".","/")),[].concat(E()(t.slice(0,-1)),E()(e.split(j)))):Array.isArray(e)?e:t}function Ot(t,e){var a=t.get(e);if(a!==void 0)return a;var n=t.get(Number(e)||e);if(n!==void 0)return n}function bt(t){return toString.call(t)==="[object Map]"}function k(t,e){if(e.length===0)return t;var a,n=t;return e.forEach(function(r){a=bt(n)?Ot(n,r):n[r],n=a}),a}function Gt(t,e,a){return t.map(function(n){return k(e,Ct(a,n))})}function Lt(t){return(t||[]).map(function(e){return Array.isArray(e)?e:typeof e=="string"?e.startsWith("./")||e.startsWith("../")?e:e.includes(j)?e.split(j):e.split("."):[]})}var Ft=l(26851),Bt=l.n(Ft);function Se(t){return _typeof(t)=="object"&&t.hasOwnProperty("__COMPUTED__")&&["async","sync"].includes(t.__COMPUTED__)&&t.hasOwnProperty("fn")&&typeof t.fn=="function"&&t.hasOwnProperty("options")&&_typeof(t.options)=="object"}function je(t){return _typeof(t)=="object"&&["result","loading","timeout","retry","run"].every(function(e){return t.hasOwnProperty(e)})}function Ht(t,e){return t.length>e.length?!1:t.every(function(a,n){return a===e[n]})}function Jt(t){return typeof t=="function"&&t.then&&typeof t.then=="function"||t&&t instanceof Promise}function zt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log",a=typeof t=="function"?t():t instanceof Error?t.stack:t;try{var n;(n=console)[e].apply(n,["[@speedform/reactive] "].concat(E()(Array.isArray(a)?a:[a])))}catch(r){}}function L(t,e,a){var n=t,r=e.length-1;e.forEach(function(u,o){var s=bt(n);if(o===r){s?n.set(u,a):n[u]=a;return}var i=s?Ot(n,u):n[u];n=i})}var Yt=Symbol("SKIP_COMPUTED");function tt(t){return t[Yt]=!0,t}function U(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j,n=[];try{return typeof e=="function"&&(e=e.call(t,t)),n=Array.isArray(e)?e:typeof e=="string"?e.split(a):[],n.length>0?k(t,n):t}catch(r){return t}}function xt(t,e,a){return Object.entries(t||{}).reduce(function(n,r){var u=Y()(r,2),o=u[0],s=u[1];return n[o]=At(s,e.stateCtx.setState),n},{})}function At(t,e){var a=function(r){typeof r=="function"&&e(function(u){r(u)})};return function(){var n=t.apply(void 0,arguments);if(Jt(n))return n.then(function(r){a(r)});a(n)}}var T=function(t){return t.Root="root",t.Current="current",t.Parent="parent",t.Depends="depends",t.Self="self",t}({});function Qt(t,e,a){var n=e==null?a:e;if(typeof n=="function")try{n=n.call(t,t)}catch(r){}return n==null?a==null?T.Root:a:n}function St(t,e){var a=e.input,n=e.type,r=e.valuePath,u=e.funcOptions,o=e.storeOptions,s=e.computedType,i=t;if(typeof o.onComputedContext=="function"){var f=o.onComputedContext.call(t,t,{computedType:s,contextType:n,valuePath:r});f!==void 0&&(i=f)}var p=r.length>=1?r.slice(0,r.length-1):[],c=Qt(t,n=="context"?u.context:u.scope,n=="context"?o.computedThis&&o.computedThis(s):o.computedScope&&o.computedScope(s));try{if(c===T.Current)return U(t,p);if(c===T.Parent)return U(t,r.slice(0,r.length-2));if(c===T.Root)return i;if(c===T.Depends)return Array.isArray(a)?a.map(function(O){return typeof O=="function"?O():O}):[];if(typeof c=="string")return U(t,[].concat(E()(p),E()(c.split(j))));if(Array.isArray(c))if(c.length>0&&c[0].startsWith("@")){var v=U(t,[].concat(E()(c[0].substring(1).split(j)),E()(c.slice(1))));return U(t,v)}else return U(t,c);else if(typeof c=="number"){var d=c>r.length-2?r.length-c-1:0;return U(t,r.slice(0,d))}else return t}catch(O){return t}}function et(t,e){var a=this.options,n=e.input,r=e.type,u=e.computedContext,o=e.computedOptions;return St(t,{input:n,type:r,valuePath:u.fullKeyPath,funcOptions:o,storeOptions:a,computedType:"Computed"})}function it(t,e,a){var n=t.fullKeyPath,r=t.parent,u=t.value,o=u(),s=o.fn,i=o.options;if(!(r&&!Object.hasOwn(r,n[n.length-1]))){var f=e.options.onCreateComputed;if(typeof f=="function"&&typeof s=="function"){var p=f.call(e,n,s,i);i.scope||(i.scope=T.Current),i.context||(i.context=T.Root),typeof p=="function"&&(s=p)}var c=a!==void 0,v=c?i.id:gt(n,i.id),d=c?v:n.join(j);e.options.log("Create sync computed: ".concat(d));var O=e.stateCtx.mutate({fn:function(h,D){if(!i.enable){e.options.log("Sync computed <".concat(d,"> is disabled"),"warn");return}e.options.log("Run sync computed for : ".concat(d));var b=D.input,y=c?h:et.call(e,h,{input:b,computedOptions:i,computedContext:t,type:"context"}),F=c?h:et.call(e,h,{input:b,computedOptions:i,computedContext:t,type:"scope"}),V=i.initial;try{V=s.call(y,F)}catch(W){if(typeof i.onError=="function")try{var x;(x=i.onError)===null||x===void 0||x.call(y,W)}catch(z){}}c?a.stateCtx.setState(function(W){Object.assign(W,V)}):L(h,n,V)},desc:v,checkDeadCycle:!1});c||t.replaceValue(k(e.stateCtx.state,n));var C={id:d,mutate:O,group:i.group,async:!1,options:i,get enable(){return i.enable},set enable(R){i.enable=R},run:function(h){var D={desc:v,extraArgs:h};return c?a.stateCtx.runMutateTask(D):e.stateCtx.runMutateTask(D)}};return e.computedObjects.set(d,C),C}}var Xt=l(90393),K=l.n(Xt),Zt=l(7392),nt=l.n(Zt),qt=l(44340),_t=l(10346);function rt(t,e,a){return Object.assign({loading:!1,timeout:0,retry:0,error:null,progress:0,run:(0,m.markRaw)(tt(function(n){return t.runMutateTask({desc:e,extraArgs:n})})),cancel:(0,m.markRaw)(tt(function(){console.log("cancel")}))},a)}function jt(t,e,a,n,r){var u=rt(t,n,r),o=k(e,a);Object.assign(o,u,r)}function te(t,e,a){var n=Object.assign({},a),r=n.max,u=r===void 0?100:r,o=n.min,s=o===void 0?0:o,i=n.value,f=i===void 0?0:i;return t(function(p){return L(p,[].concat(E()(e),["progress"]),f)}),{value:function(c){c>u&&(c=u),c<s&&(c=s),t(function(v){return L(v,[].concat(E()(e),["progress"]),c)})},end:function(){this.value(u)}}}function Q(t,e,a){t(function(n){Object.entries(a).forEach(function(r){var u=Y()(r,2),o=u[0],s=u[1];L(n,[].concat(E()(e),[o]),s)})})}function ee(t,e,a,n){return ot.apply(this,arguments)}function ot(){return ot=nt()(K()().mark(function t(e,a,n,r){var u,o,s,i,f,p,c,v,d,O,C,R,h,D,b,y,F,V,x,W,z,q,A;return K()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:u=n.input,o=n.computedOptions,s=n.computedContext,i=n.computedResultPath,f=r!==void 0,p=f?r.stateCtx.setState:n.setState,c=f?e:et.call(this,e,{input:u,computedOptions:o,computedContext:s,type:"context"}),v=f?e:et.call(this,e,{input:u,computedOptions:o,computedContext:s,type:"scope"}),d=s.fullKeyPath,O=o.timeout,C=O===void 0?0:O,R=o.retry,h=R===void 0?[0,0]:R,D=Array.isArray(h)?h:[Number(h),0],b=Y()(D,2),y=b[0],F=b[1],x=new AbortController,W={onTimeout:function(w){return V=w},getProgressbar:function(w){return te(p,d,w)},getSnap:function(w){return(0,m.getSnap)(w,!1)},abortSignal:x.signal,cancel:x.abort},z=!1,Q(p,i,{cancel:(0,m.markRaw)(tt(function(){return x.abort()}))}),x.signal.addEventListener("abort",function(){z=!0}),q=K()().mark(function I(){var w,H,N,P,ut,B,S,pt,dt,_,vt,J,Kt;return K()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(N=!1,P=!1,ut=A>0,B={},g.prev=2,S=Array.isArray(C)?C:[C,0],pt=Y()(S,2),dt=pt[0],_=dt===void 0?0:dt,vt=pt[1],J=vt===void 0?0:vt,Q(p,i,{loading:!0,error:null,retry:A>0?y-A:0,timeout:J>1?J:_,progress:0}),!z){g.next=7;break}throw new Error("Aborted");case 7:return _>0&&(w=setTimeout(function(){P=!0,typeof V=="function"&&V(),N||(clearInterval(H),Q(p,i,{loading:!1,error:"TIMEOUT",timeout:0}))},_),J>1&&(H=setInterval(function(){Q(p,i,{timeout:J--}),J===0&&clearInterval(H)},_/J))),g.next=10,a.call(c,v,W);case 10:Kt=g.sent,P||Object.assign(B,{result:Kt,error:null,timeout:0}),g.next=20;break;case 14:if(g.prev=14,g.t0=g.catch(2),N=!0,typeof o.onError=="function")try{o.onError.call(c,g.t0)}catch(Ee){}P||Object.assign(B,{error:Ut(g.t0).message,timeout:0}),y>0&&Object.assign(B,{retry:y-A});case 20:return g.prev=20,clearTimeout(w),clearInterval(H),(!N||A==y)&&Object.assign(B,{loading:!1}),!N&&!P&&Object.assign(B,{error:null}),Q(p,i,B),g.finish(20);case 27:if(!N){g.next=31;break}if(!(y>0&&F>0&&A<y)){g.next=31;break}return g.next=31,(0,_t.g)(F);case 31:case"end":return g.stop()}},I,null,[[2,14,20,27]])}),A=0;case 15:if(!(A<y+1)){M.next=20;break}return M.delegateYield(q(),"t0",17);case 17:A++,M.next=15;break;case 20:case"end":return M.stop()}},t,this)})),ot.apply(this,arguments)}function st(t,e,a){var n=t.fullKeyPath,r=t.parent,u=t.value;if(!(r&&!Object.hasOwn(r,n[n.length-1]))){var o=u(),s=o.fn,i=o.options;i.async=!0;var f=e.options.onCreateComputed;if(typeof f=="function"&&typeof s=="function"){var p=f.call(e,n,s,i);i.scope||(i.scope=T.Current),i.context||(i.context=T.Root),typeof p=="function"&&(s=p)}var c=i.depends,v=c===void 0?[]:c,d=i.initial,O=i.toComputedResult,C=O===void 0?"self":O,R=i.immediate,h=i.noReentry,D=h===void 0?!1:h,b=!1,y=a!==void 0,F=y?[]:(0,qt.d)(C,{self:n,root:[],parent:n.slice(0,n.length-2),current:n.slice(0,n.length-1),Array:C,String:[].concat(E()(n.slice(0,n.length-1)),[String(C).split(j)])},{defaultValue:n}),V=Lt(v);V.length==0&&e.options.log("async computed <".concat(n.join("."),"> should specify depends"),"warn");var x=y?i.id:gt(n,i.id),W=y?x:n.join(j);e.options.log("Create async computed: ".concat(W," (depends=").concat(V.length==0?"None":yt(V),")"));var z=e.stateCtx.mutate({deps:function($){return Gt(V,$,n)},fn:function($,M){if(M.isFirstCall)if(y)a.stateCtx.setState(function(w){Object.assign(w,rt(a.stateCtx,x,{result:d}))});else if(C=="self")L($,n,rt(e.stateCtx,x,{result:d}));else{jt(e.stateCtx,$,F,x,{result:d});var I=k($,n.slice(0,n.length-1));delete I[n[n.length-1]]}},task:function(){var A=nt()(K()().mark(function M(I){var w,H,N,P,ut;return K()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(w=I.draft,H=I.setState,N=I.input,P=I.extraArgs,!(!i.enable&&(P==null?void 0:P.enable)!==!0)){S.next=4;break}return e.options.log("Async computed <".concat(W,"> is disabled"),"warn"),S.abrupt("return");case 4:if(e.options.log("Run async computed for : ".concat(W)),ut=Object.assign({},i,P),!(D&&b&&e.options.debug)){S.next=9;break}return e.options.log("Reentry async computed: ".concat(W),"warn"),S.abrupt("return");case 9:return b=!0,S.prev=10,S.next=13,ee.call(e,w,s,{input:N,computedResultPath:F,computedOptions:ut,computedContext:t,setState:H},a);case 13:return S.abrupt("return",S.sent);case 14:return S.prev=14,b=!1,S.finish(14);case 17:case"end":return S.stop()}},M,null,[[10,,14,17]])}));function $(M){return A.apply(this,arguments)}return $}(),immediate:R,desc:x,checkDeadCycle:!1});y||t.replaceValue(k(e.stateCtx.state,n));var q={id:W,mutate:z,group:i.group,async:!0,options:i,get enable(){return i.enable},set enable(A){i.enable=A},run:function($){var M={desc:x,extraArgs:$};return y?a.stateCtx.runMutateTask(M):e.stateCtx.runMutateTask(M)}};return e.computedObjects.set(W,q),q}}var Tt=l(20649);function ct(t,e,a){var n=t.value,r;if(n.__COMPUTED__=="async"?r=st(t,e,a):n.__COMPUTED__=="sync"?r=it(t,e,a):(0,Tt.$)(n)?(t.value=function(){return{fn:n,options:{depends:[],initial:void 0,immediate:!0,enable:!0,context:e.options.computedThis&&e.options.computedThis("Computed")}}},r=st(t,e,a)):(t.value=function(){return{fn:n,options:{initial:void 0,enable:!0,context:e.options.computedThis&&e.options.computedThis("Computed")}}},r=it(t,e,a)),r&&typeof e.options.onCreateComputedObject=="function")try{e.options.onCreateComputedObject(t.fullKeyPath,r)}catch(u){e.options.log(u.stack,"error")}}var ne=l(71698),at=l.n(ne),re=l(77937),Et=l.n(re),ae=l(41176),Rt=l.n(ae),ue=l(44114),X=l.n(ue),ie=l(19365),oe=l.n(ie),se=l(72904),ce=l.n(se),le=l(65523),Mt=l.n(le),fe=l(7122),Wt=l.n(fe),pe=l(19108),wt=l.n(pe),de=l(79862),Z=l.n(de);function Dt(t,e,a){if(typeof t!="function")throw new Error("computed getter must be a function");var n=[],r={async:!1,enable:!0,timeout:0,depends:[],toComputedResult:T.Self,immediate:!0};if(arguments.length==1)n=[];else if(arguments.length==2)if(Array.isArray(arguments[1]))n=arguments[1];else if(Bt()(arguments[1])=="object")Object.assign(r,arguments[1]);else throw new Error("invalid arguments");else arguments.length>=3&&(n=arguments[1],Object.assign(r,arguments[2]));var u=r.async===!0||(0,Tt.$)(t)||arguments.length>=2&&Array.isArray(e);r.async=u,r.depends=n;var o=function(){return{fn:t,options:r}};return o.__COMPUTED__=u?"async":"sync",o}function ve(t){return function(e,a){var n=Object.assign({id:"s"+Math.random().toString(16).substring(2),scope:t.stateCtx.state,context:t.stateCtx.state},a);if(!Array.isArray(n.depends)||n.depends.length==0)throw new Error("options.depends must be an array and not empty");var r=(0,m.sharex)({}),u={fullKeyPath:[],parent:null,value:Dt(e,n.depends,a)};return ct(u,t),r}}var Vt=function(t){Mt()(a,t);var e=Wt()(a);function a(n){var r;return Et()(this,a),r=e.call(this),Z()(X()(r),"_createComputed",void 0),r.store=n,r}return Rt()(a,[{key:"runGroup",value:function(){var n=nt()(K()().mark(function u(o){return K()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(E()(this.values()).filter(function(f){return f.group==o}).map(function(f){return f.async?f.mutate.runTask():f.mutate.run()})));case 1:case"end":return i.stop()}},u,this)}));function r(u){return n.apply(this,arguments)}return r}()},{key:"enableGroup",value:function(){var n=nt()(K()().mark(function u(o){var s,i,f;return K()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=at()(this.values());try{for(s.s();!(i=s.n()).done;)f=i.value,f.options.enable=o}catch(v){s.e(v)}finally{s.f()}case 2:case"end":return c.stop()}},u,this)}));function r(u){return n.apply(this,arguments)}return r}()},{key:"delete",value:function(r){var u;return(u=this.get(r))===null||u===void 0||u.mutate.cancel(),oe()(ce()(a.prototype),"delete",this).call(this,r)}},{key:"new",get:function(){return this._createComputed||(this._createComputed=ve(this.store)),this._createComputed}}]),a}(wt()(Map)),he=l(97328);function ye(t,e,a){var n=Object.assign({on:e,enable:!0,scope:T.Depends},a),r=function(){return{fn:t,options:n}};return r.__COMPUTED__="watch",r}function lt(t){return function(e,a){var n=(0,m.watch)(function(u){var o=u.triggerReasons,s=o.map(function(i){return i.keyPath});e(s)},function(){return a==null?void 0:a.map(function(u){return U(t.stateCtx.state,u)})}),r=n.unwatch;return r}}var ge=l(70079);function me(t,e){return function(a,n){(0,ge.useEffect)(function(){return lt(t,e)(a,n)},[])}}var Ce=l(39114),ft=l.n(Ce),It=function(t){Mt()(a,t);var e=Wt()(a);function a(n){var r;return Et()(this,a),r=e.call(this),Z()(X()(r),"_off",void 0),Z()(X()(r),"_enable",!0),Z()(X()(r),"cache",new Map),Z()(X()(r),"watcherCache",void 0),r.store=n,r}return Rt()(a,[{key:"init",value:function(){this.createWacher()}},{key:"enable",get:function(){return this._enable},set:function(r){this._enable=r}},{key:"getValueKey",value:function(r){return JSON.stringify(r)}},{key:"createWacher",value:function(){var r=this,u=heluxWatch(function(s){var i=s.triggerReasons;if(r._enable){var f=i.map(function(p){return p.keyPath});f.forEach(function(p){var c=r.getCachedWatchers(p),v=k(r.store.state,p);if(c.length===0){var d=at()(r.values()),O;try{for(d.s();!(O=d.n()).done;){var C=O.value;r.isMatchWatcher(p,v,C)&&(r.addWatcherToCache(p,C.path,C),c.push(C))}}catch(b){d.e(b)}finally{d.f()}}var R=at()(c),h;try{for(R.s();!(h=R.n()).done;){var D=h.value;try{D.run(p)}catch(b){console.warn("Error while run watchLisenter("+p.join(j)+"->"+D.path.join(j)+")",b.stack)}}}catch(b){R.e(b)}finally{R.f()}})}},function(){return[r.store.state]}),o=u.unwatch;this._off=o}},{key:"reset",value:function(){var r;this.cache.clear(),this._off&&this._off(),(r=this.watcherCache)===null||r===void 0||r.clear(),this.createWacher()}},{key:"getCachedWatchers",value:function(r){var u=this.getValueKey(r);return this.cache.has(u)?this.cache.get(u):[]}},{key:"addWatcherToCache",value:function(r,u,o){var s=this.getValueKey(r);this.cache.has(s)||this.cache.set(s,[]);var i=this.cache.get(s);i.push(o)}},{key:"getWatcherCache",value:function(r){this.watcherCache||(this.watcherCache=new Map);var u=r.join(".");return this.watcherCache.has(u)||this.watcherCache.set(u,{}),this.watcherCache.get(u)}},{key:"isMatchWatcher",value:function(r,u,o){if(!(this._enable===!1||o.enable===!1)&&typeof o.on=="function")return o.on(r,u)}},{key:"executeListener",value:function(r,u,o,s){var i=this;if(!s.enable){this.store.options.log("watcher <".concat(u.join(j),"> is disabled"));return}var f={getSelfValue:function(){return k((0,m.getSnap)(i.store.state),u)},getCache:function(){return i.getWatcherCache(u)},triggerPath:r,selfPath:u,state:this.store.state},p=St(this.store.state,{computedType:"Watch",input:[function(){return k(i.store.state,r)}],type:"scope",valuePath:u,funcOptions:{scope:s.scope},storeOptions:this.store.options}),c=s.scope==T.Depends&&Array.isArray(p)?p[0]:p,v=o.call(this.store.state,c,f);v!==void 0&&this.store.setState(function(d){L(d,u,v)})}},{key:"add",value:function(r,u,o,s){var i=this,f=ft()({path:r,listener:u,target:s},o);f.run=function(p){return i.executeListener(p,r,u,f)},this.set(this.getValueKey(r),f)}},{key:"remove",value:function(r){this.delete(this.getValueKey(r))}},{key:"enableGroup",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=at()(this.values()),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;i.group==r&&(i.enable=u)}}catch(f){o.e(f)}finally{o.f()}}}]),a}(wt()(Map));function Pt(t,e,a){e.options.log("install watch for <".concat(t.fullKeyPath.join(j),">"));var n=t.value();e.watchObjects.add(t.fullKeyPath,n.fn,n.options,a),t.replaceValue(n.options.initial),e.stateCtx.setState(function(r){L(r,t.fullKeyPath,n.options.initial)}),(0,m.flush)(e.stateCtx.state)}function Oe(t,e){var a=t.fullKeyPath,n=t.value,r=a.join(".");typeof n=="function"&&!e._replacedKeys[r]&&!mt(n)&&(e._replacedKeys[r]=!0,n.__COMPUTED__=="watch"?Pt(t,e):ct(t,e))}function kt(t){return function(e,a){var n=t.useState;if(e==null)return n();var r=n(),u=Y()(r,2),o=u[0],s=u[1],i=e(o),f=s;return typeof a=="function"&&(f=function(c){s(function(v){a.call(v,v,c)})}),[i,f]}}function be(t){return function(e){t.stateCtx.setState(function(a){e(a)})}}function xe(t,e){var a=Object.assign({id:Math.random().toString(16).substring(2),debug:!0,computedThis:function(){return T.Root},computedScope:function(){return T.Current},singleton:!0},e);a.log=function(){a.debug&&zt.apply(void 0,arguments)};var n=a.singleton?t:(0,he.I)(t),r={options:a,_replacedKeys:{}};return r.computedObjects=new Vt(r),r.watchObjects=new It(r),r.stateCtx=(0,m.sharex)(n.state,{stopArrDep:!1,moduleName:a.id,onRead:function(o){Oe(o,r)}}),r.actions=xt(n.actions,r,a),r.state=r.stateCtx.reactive,r.useState=kt(r.stateCtx),r.setState=be(r),r.watch=lt(r),r}function Ae(t){var e=(0,m.sharex)(t);return ft()(ft()({},e),{},{useState:kt(e)})}},43095:function(ht){function G(l){var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m}G.keys=function(){return[]},G.resolve=G,G.id=43095,ht.exports=G}}]);
