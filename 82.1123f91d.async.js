"use strict";(self.webpackChunkspeedform_docs=self.webpackChunkspeedform_docs||[]).push([[82],{40082:function(Ne,$,c){c.r($),c.d($,{api:function(){return O},delay:function(){return I},forms:function(){return E}});var O={};c.r(O),c.d(O,{getProjects:function(){return Z}});var E={};c.r(E),c.d(E,{Network:function(){return W},schema:function(){return J}});var Q=c(90393),C=c.n(Q),X=c(7392),R=c.n(X);function Z(e){return V.apply(this,arguments)}function V(){return V=R()(C()().mark(function e(t){var r,n,a;return C()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(t);case 2:if(r=i.sent,!r.ok){i.next=11;break}return i.next=6,r.json();case 6:return n=i.sent,a=n.map(function(l){return{name:l.name,url:l.html_url,description:l.description,stars:l.stargazers_count}}),i.abrupt("return",a);case 11:throw new Error("".concat(r.status," - ").concat(r.statusText));case 12:case"end":return i.stop()}},e)})),V.apply(this,arguments)}var I=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1e3;return new Promise(function(r){setTimeout(r,t)})},p=c(40058),k=c(79664),A=c.n(k),q=c(70125),F=c.n(q),_=c(39114),P=c.n(_),o=c(70079),$e=c(26851),L=c(13192);function Ie(e){var t=_typeof(e);return e==null||t=="boolean"||t=="number"||t=="string"||t==null}function B(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=0,n,a=!0,u=function i(){if(n==null){a=!0,clearTimeout(r),r=0;return}try{var l=n;n=void 0,e.apply(void 0,A()(l)),r=setTimeout(function(){return i()},t)}finally{}};return function(){for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];if(t==0)return e.apply(void 0,l);n=l,(a||r==0)&&(a=!1,u())}}function Le(e,t){var r={};for(var n in e)e[n]!==t[n]&&(r[n]=t[n]);return r}function H(e){return new Proxy({},{get:function(r,n,a){return e()[n]}})}function ee(e){return"execute"in e&&!D(e)}function D(e){return(0,L.P)(e)&&"value"in e}function re(e){return Array.isArray(e)}function te(e){return(0,L.P)(e)&&!D(e)&&!ee(e)}var j="fields",Be="actions",m=c(35250);function ne(e,t,r,n){return Object.assign({name:e,help:"",defaultValue:void 0,oldValue:void 0,visible:!0,required:!1,readonly:!1,validate:!0,enable:!0,dirty:!1,placeholder:""},P()(P()({},t),{},{sync:r,update:n}))}function ae(e,t){var r=(0,o.useRef)(null);return(0,o.useCallback)(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(r.current==null){var a=e.sync(t);r.current=n==0?a:B(a,n)}return r.current},[])}function ue(e,t){var r=(0,o.useRef)(null),n=(0,o.useState)(0),a=F()(n,2),u=a[0],i=a[1];return(0,o.useCallback)(function(l,s){var v=Object.assign({debounce:0},s),f=v.debounce;if(r.current==null||u!==f){u!==f&&f>0&&i(f);var y=function(d){return function(h){t(typeof d=="function"?function(g){return d.call(g,g.fields)}:function(g){return(0,p.setVal)(g,e,d)}),typeof h.preventDefault=="function"&&h.preventDefault()}};r.current=f>0?y:B(y,f)}return r.current(l)},[])}var x=o.memo(function(e){return(0,m.jsx)(m.Fragment,{children:typeof e.children=="function"&&e.children(e.fieldProps)})},function(e,t){return Object.entries(e.fieldProps).every(function(r){var n=F()(r,2),a=n[0],u=n[1];return["children","sync","update"].includes(a)?!0:u===t.fieldProps[a]})});function ie(e){var t=this;return o.memo(function(r){var n=r.name,a=Array.isArray(n)?n:n.split("."),u=[j].concat(A()(a)),i=[j].concat(A()(a));a.push("value"),i.push("value");var l=e.useState(function(h){return(0,p.getVal)(h,u)}),s=F()(l,2),v=s[0],f=s[1],y=ue(i,f),b=ae(e,i),d=ne(t.getFieldName(a),v,b,y);return r.render?(0,m.jsx)(x,{fieldProps:d,children:r.render}):Array.isArray(r.children)?r.children.map(function(h){return(0,m.jsx)(x,{fieldProps:d,children:h})}):(0,m.jsx)(x,{fieldProps:d,children:r.children})},function(r,n){return r.name===n.name})}var K=c(23893);function le(e,t){return(0,o.useCallback)(function(r){t(function(n){r.call(n,(0,p.getVal)(n,e))})},[])}function M(e,t,r){return(0,K.w)({name:e,help:"",visible:!0,required:!1,readonly:!1,validate:!0,enable:!0,update:r},t)}function se(e){var t=this;return o.memo(function(n){var a=n.name,u=e.useState(),i=F()(u,2),l=i[0],s=i[1],v=Array.isArray(a)?a:a.split("."),f=["fields"].concat(A()(v)),y=(0,p.getVal)(l,f),b=le(f,s),d=(0,o.useState)(function(){return M(t.getFieldName(v),y,b)}),h=F()(d,2),g=h[0],N=h[1];return(0,o.useEffect)(function(){N(M(t.getFieldName(v),y,b))},[y]),Array.isArray(n.children)?n.children.map(function(Ge){return Ge(g)}):n.children(g)},function(r,n){return r.name===n.name})}var ce=c(76120);function U(e){return e.value}function T(e){var t={};return Object.entries(e).forEach(function(r){var n=_slicedToArray(r,2),a=n[0],u=n[1];typeof a=="string"&&(isFieldValue(u)?t[a]=U(u):isFieldGroup(u)?t[a]=T(u):isFieldList(u)?t[a]=z(u):t[a]=u)}),t}function z(e){var t=[];return e.forEach(function(r){isFieldValue(r)?t.push(U(r)):isFieldGroup(r)?t.push(T(r)):isFieldList(r)?t.push(z(r)):t.push(r)}),t}function He(e,t){return T(e)}function Ke(e,t,r){var n=Object.assign({},r),a=n.onNotMatch,u=a===void 0?function(){}:a;function i(l,s){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object.entries(l).forEach(function(f){var y=_slicedToArray(f,2),b=y[0],d=y[1];if(typeof b=="string"){var h=[].concat(_toConsumableArray(v),[b]);if(b in s){var g=s[b];isFieldValue(g)?g.value=d:isFieldGroup(g)?isPlainObject(d)?i(d,g,h):u(h):isFieldList(g)?Array.isArray(d)?i(d,g):u(h):s[b]=d}else u(h)}})}i(t,e)}function Me(e,t){var r=new FormData,n=Object.assign({getItemName:function(l){return l.join(".")}},t),a=n.getItemName;function u(i,l){if(l!=null){var s=a?a(i):i.join(".");Array.isArray(l)?l.forEach(function(v,f){u([].concat(_toConsumableArray(i),[String(f)]),v)}):isPlainObject(l)?Object.entries(l).forEach(function(v){var f=_slicedToArray(v,2),y=f[0],b=f[1];u([].concat(_toConsumableArray(i),[y]),b)}):r.append(s,l)}}return u([],e),r}function Y(e,t){return function(){var r=R()(C()().mark(function n(a){var u;return C()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return u=Object.assign({},t,a),l.next=3,e.execute.run(u);case 3:if(!e.execute.error){l.next=7;break}throw new Error(e.execute.error);case 7:return l.abrupt("return",e.execute.result);case 8:case"end":return l.stop()}},n)}));return function(n){return r.apply(this,arguments)}}()}function oe(e,t){var r=(0,o.useCallback)(function(a){var u=Object.assign({},{noReentry:!0,preventDefault:!0},t,a),i=Y(e,u);return function(l){i(),l&&u.preventDefault&&typeof l.preventDefault=="function"&&l.preventDefault()}},[]),n=(0,o.useCallback)(function(a){e.execute.cancel(),a&&typeof a.preventDefault=="function"&&a.preventDefault()},[]);return[r,n]}function fe(e,t){return(0,o.useCallback)(function(r){var n=(0,p.getValueByPath)(e,[].concat(A()(Array.isArray(t)?t:t.split(".")),["execute"]));n.cancel(),r&&typeof r.preventDefault=="function"&&r.preventDefault()},[])}function de(e,t,r,n){return Object.assign({help:"",title:"",visible:!0,enable:!0},(0,ce.C)(e,"execute"),P()(P()({},e.execute),{},{run:t,cancel:r,ref:n}))}var w=o.memo(function(e){return(0,m.jsx)(m.Fragment,{children:typeof e.children=="function"&&e.children(e.actionProps)})},function(e,t){return Object.entries(e.actionProps).every(function(r){var n=F()(r,2),a=n[0],u=n[1];return["children","run","cancel"].includes(a)?!0:u===t.actionProps[a]})});function ve(e,t,r){function n(a){var u=e.useState(),i=F()(u,1),l=i[0],s=a.name,v=(0,p.getValueByPath)(l,s,"."),f=oe(v,t),y=F()(f,1),b=y[0],d=fe(l,s),h=(0,o.useRef)(null),g=de(v,b,d,h);if(typeof a.render=="function")return(0,m.jsx)(w,{actionProps:g,children:a.render});if(a.children)return Array.isArray(a.children)?a.children.map(function(N){return(0,m.jsx)(w,{actionProps:g,children:N})}):(0,m.jsx)(w,{actionProps:g,children:a.children})}return o.memo(n,function(a,u){return a.name===u.name})}function me(e,t){return computed(function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,u){var i;return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=getFormData(getSnap(a,!1).fields),s.next=3,e(i,u);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},n)}));return function(n,a){return r.apply(this,arguments)}}(),[],t)}function Ue(e,t){return me(function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,u){var i;return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=new FormData,s.next=3,e(i,u);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},n)}));return function(n,a){return r.apply(this,arguments)}}(),t)}var he=c(83443);function ge(e){return e.length>1&&e[0]==j&&e[e.length-1]=="value"}function pe(e){return(0,p.watch)(function(t,r){var n=r.getSelfValue,a=r.srcPath,u=r.selfPath;if((0,p.isIncludePath)(e||u,a)){var i=n();if(!i)return!0}},function(t){return ge(t)},{initial:!1})}var ze=c(41176),Ye=c(77937),Je=c(65523),We=c(7122),Qe=c(19108),Xe=null;function ye(e){return e.length>1&&e[0]==j&&(e[e.length-1]==="validate"||e.length>=2&&e[e.length-2]=="validate"&&e[e.length-1]=="result")&&!(e.length==2&&e[1]=="validate")&&!(e.length==3&&e[1]=="validate"&&e[2]=="result")}function be(e){var t=Object.assign({},e),r=t.entry;return(0,p.watch)(function(n,a){var u=a.srcPath,i=a.selfPath,l=a.getCache;if((0,p.isIncludePath)(r||i,u)){var s=l();if(typeof n=="boolean"){var v=u.join(p.OBJECT_PATH_DELIMITER);n?delete s[v]:s[v]=n}return Object.keys(s).length==0}},function(n){return ye(n)},{initial:!0})}function Ze(e,t){var r=typeof e=="function"?e():e;if(!r)throw new ValidationError(typeof t=="function"?t():t)}var je={title:"SpeedForm",help:"",tips:"",status:"idle",dirty:pe(["fields"]),validate:be({entry:["fields"]}),readonly:!1,enable:!0,visible:!0};function Fe(e){var t={};return Object.entries(e||{}).forEach(function(r){var n=F()(r,2),a=n[0],u=n[1];D(u)||te(u)||re(u)||(t[a]=u)}),t}function Ae(e,t,r){return(0,o.useCallback)(function(n){var a=Pe(t.current);if(!a)throw new Error("\u672A\u627E\u5230\u8868\u5355\u5143\u7D20");a.submit()},[])}function Ce(e,t,r){return Object.assign({type:"submit",help:"",title:"",dirty:!1,validate:!0,visible:!0,enable:!0,readOnly:!0},Fe(e),{submit:t,ref:r})}var G=o.memo(function(e){return(0,m.jsx)(m.Fragment,{children:typeof e.children=="function"&&e.children(e.submitProps)})},function(e,t){return Object.entries(e.submitProps).every(function(r){var n=F()(r,2),a=n[0],u=n[1];return["children","render"].includes(a)?!0:u===t.submitProps[a]})});function Pe(e){return e.closest("form")}var Se=o.forwardRef(function(e,t){var r=e.visible;return(0,m.jsx)("input",{type:"submit",onClick:function(a){return alert("alrty"),a.preventDefault(),!1},style:{display:r?"none":"block"},ref:t,value:"\u63D0\u4EA4"})});function Oe(e,t,r){function n(a){var u=e.useState(),i=F()(u,1),l=i[0],s=(0,o.useRef)(null),v=a.scope,f=(0,p.getValueByPath)(l,v),y=(0,o.useRef)(null),b=Ae(f,y,t),d=Ce(f,b,y),h=typeof a.render=="function"?1:Array.isArray(a.children)?2:typeof a.children=="function"?3:0;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Se,{ref:s,visible:h==0}),h===1?(0,m.jsx)(G,{submitProps:d,children:a.render}):h===2?a.children.map(function(g){return(0,m.jsx)(G,{submitProps:d,children:g})}):(0,m.jsx)(G,{submitProps:d,children:a.children})]})}return o.memo(n,function(a,u){return a.name===u.name})}function Ee(e,t,r){e.length>=2&&e[0]==j&&e[e.length-1]=="validate"&&(r.scope||(r.scope="value"),r.depends||(r.depends=[]),r.depends.push([].concat(A()(e.slice(0,-1)),["value"])),r.initial=!0)}function Re(e){(0,he.w)(e,je)}function Ve(e,t,r){e.length>1&&e[e.length-1]=="execute"&&(r.immediate=!1,r.scope=[j],r.noReentry=!0)}function De(e,t,r){e.length>0&&e[0]==j&&r.depends&&r.depends.forEach(function(n,a){Array.isArray(n)&&n.length>0&&n[0]!=j?r.depends[a]=[j].concat(A()(n)):typeof n=="string"&&!n.startsWith("".concat(j,"."))&&(r.depends[a]="".concat(j,".").concat(n))})}function xe(e,t){var r=(0,K.w)({getFieldName:function(u){return u.join(".")},singleton:!0},t);Re(e);var n=(0,p.createStore)({state:e},{debug:r.debug,singleton:r.singleton,computedThis:p.ComputedScopeRef.Root,computedScope:[j],onCreateComputed:function(u,i,l){Ee(u,i,l),De(u,i,l),Ve(u,i,l)},onComputedContext:function(u,i){var l=i.type,s=i.valuePath;if(l=="scope"&&s.length>0&&s[0]==j)return u.fields}});return{Form:Te.call(r,n),Field:ie.call(r,n),Group:se.call(r,n),Action:ve(n,{},r),Submit:Oe(n,{preventDefault:!1},r),getAction:Y,fields:H(function(){return n.state.fields}),actions:H(function(){return n.state.actions}),state:n.state,useState:n.useState}}function Te(e){return o.forwardRef(function(t,r){var n=t.children,a=(0,o.useCallback)(function(i){console.log("submit:",i)},[]),u=(0,o.useCallback)(function(i){},[]);return(0,m.jsx)("form",P()(P()({ref:r,className:"speedform"},t),{},{onSubmit:a,onReset:u,children:n}))})}var we=c(99166),S=c.n(we),J={title:"\u7F51\u7EDC\u914D\u7F6E",fields:{title:{value:"React-Helux-Form",placeholder:"\u8F93\u5165\u7F51\u7EDC\u914D\u7F6E\u540D\u79F0",title:"\u7F51\u7EDC\u540D\u79F0",validate:function(t){return t.length>3}},interface:{value:"wifi",title:"\u7F51\u5361\u7C7B\u578B",select:function(){return[{value:"wifi",title:"\u65E0\u7EBF\u7F51\u5361"},{value:"ethernet",title:"\u6709\u7EBF\u7F51\u5361"}]}},ip:{value:"1.1.1.1",title:"IP\u5730\u5740",validate:(0,p.computed)(function(){var e=R()(C()().mark(function t(r){return C()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I(2e3);case 2:return a.abrupt("return",S().isIP(String(r)));case 3:case"end":return a.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),[],{async:!0})},gateway:{value:"1.1.1.1",title:"\u7F51\u5173\u5730\u5740",validate:function(t){return S().isIP(t)}},dhcp:{enable:{title:"\u81EA\u52A8\u83B7\u53D6IP\u5730\u5740",value:!0},start:{title:"\u8D77\u59CB\u5730\u5740",value:"192.168.1.1",visible:(0,p.computed)(function(e){return e.enable.value},{scope:p.ComputedScopeRef.Parent}),validate:function(t){return S().isIP(t)}},end:{title:"\u7ED3\u675F\u5730\u5740",value:"192.168.1.100",visible:(0,p.computed)(function(e){return e.dhcp.enable.value},{scope:p.ComputedScopeRef.Root,depends:["dhcp.enable.value"]}),validate:function(t){return S().isIP(t)}}},wifi:{title:"\u65E0\u7EBF\u914D\u7F6E",visible:function(t){return t.interface.value==="wifi"},ssid:{value:"fast",placeholder:"\u65E0\u7EBF\u7F51\u7EDC",validate:function(t){return t.length>3}},password:{value:"123",placeholder:"\u8F93\u5165\u65E0\u7EBF\u5BC6\u7801",help:"\u5BC6\u7801\u957F\u5EA6\u5E94\u4E0D\u5C0F\u4E8E6\u4F4D",enable:function(t){return t.interface.value==="wifi"},validate:function(t){return t.length>6}}}}},W=xe(J,{debug:!0});globalThis.Network=W}}]);
