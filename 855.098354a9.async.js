"use strict";(self.webpackChunkspeedform_docs=self.webpackChunkspeedform_docs||[]).push([[855],{64855:function(Ne,w,o){o.r(w),o.d(w,{api:function(){return S},delay:function(){return I},forms:function(){return x}});var S={};o.r(S),o.d(S,{getProjects:function(){return k}});var x={};o.r(x),o.d(x,{Network:function(){return Q},schema:function(){return J}});var X=o(90393),P=o.n(X),Z=o(7392),R=o.n(Z);function k(e){return V.apply(this,arguments)}function V(){return V=R()(P()().mark(function e(n){var r,t,a;return P()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,fetch(n);case 2:if(r=u.sent,!r.ok){u.next=11;break}return u.next=6,r.json();case 6:return t=u.sent,a=t.map(function(l){return{name:l.name,url:l.html_url,description:l.description,stars:l.stargazers_count}}),u.abrupt("return",a);case 11:throw new Error("".concat(r.status," - ").concat(r.statusText));case 12:case"end":return u.stop()}},e)})),V.apply(this,arguments)}var I=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1e3;return new Promise(function(r){setTimeout(r,n)})},h=o(40058),q=o(79664),C=o.n(q),_=o(70125),F=o.n(_),ee=o(39114),A=o.n(ee),c=o(70079),we=o(26851),B=o(13192);function Ie(e){var n=_typeof(e);return e==null||n=="boolean"||n=="number"||n=="string"||n==null}function L(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=0,t,a=!0,i=function u(){if(t==null){a=!0,clearTimeout(r),r=0;return}try{var l=t;t=void 0,e.apply(void 0,C()(l)),r=setTimeout(function(){return u()},n)}finally{}};return function(){for(var u=arguments.length,l=new Array(u),s=0;s<u;s++)l[s]=arguments[s];if(n==0)return e.apply(void 0,l);t=l,(a||r==0)&&(a=!1,i())}}function Be(e,n){var r={};for(var t in e)e[t]!==n[t]&&(r[t]=n[t]);return r}function H(e){return new Proxy({},{get:function(r,t,a){return e()[t]}})}function re(e){return"execute"in e&&!E(e)}function E(e){return(0,B.P)(e)&&"value"in e}function ne(e){return Array.isArray(e)}function te(e){return(0,B.P)(e)&&!E(e)&&!re(e)}function Le(e,n){}var j="fields",He="actions",m=o(35250);function ae(e,n,r,t){return Object.assign({name:e,help:"",defaultValue:void 0,oldValue:void 0,visible:!0,required:!1,readonly:!1,validate:!0,enable:!0,dirty:!1,placeholder:""},A()(A()({},n),{},{sync:r,update:t}))}function ie(e,n){var r=(0,c.useRef)(null);return(0,c.useCallback)(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(r.current==null){var a=e.sync(n);r.current=t==0?a:L(a,t)}return r.current},[])}function ue(e,n){var r=(0,c.useRef)(null),t=(0,c.useState)(0),a=F()(t,2),i=a[0],u=a[1];return(0,c.useCallback)(function(l,s){var v=Object.assign({debounce:0},s),f=v.debounce;if(r.current==null||i!==f){i!==f&&f>0&&u(f);var b=function(d){return function(p){n(typeof d=="function"?function(y){return d.call(y,y.fields)}:function(y){return(0,h.setVal)(y,e,d)}),typeof p.preventDefault=="function"&&p.preventDefault()}};r.current=f>0?b:L(b,f)}return r.current(l)},[])}var D=c.memo(function(e){return(0,m.jsx)(m.Fragment,{children:typeof e.children=="function"&&e.children(e.fieldProps)})},function(e,n){return Object.entries(e.fieldProps).every(function(r){var t=F()(r,2),a=t[0],i=t[1];return["children","sync","update"].includes(a)?!0:i===n.fieldProps[a]})});function le(e){var n=this;return c.memo(function(r){var t=r.name,a=Array.isArray(t)?t:t.split("."),i=[j].concat(C()(a)),u=[j].concat(C()(a));a.push("value"),u.push("value");var l=e.useState(function(p){return(0,h.getVal)(p,i)}),s=F()(l,2),v=s[0],f=s[1],b=ue(u,f),g=ie(e,u),d=ae(n.getFieldName(a),v,g,b);return r.render?(0,m.jsx)(D,{fieldProps:d,children:r.render}):Array.isArray(r.children)?r.children.map(function(p){return(0,m.jsx)(D,{fieldProps:d,children:p})}):(0,m.jsx)(D,{fieldProps:d,children:r.children})},function(r,t){return r.name===t.name})}var K=o(23893);function se(e,n){return(0,c.useCallback)(function(r){n(function(t){r.call(t,(0,h.getVal)(t,e))})},[])}function M(e,n,r){return(0,K.w)({name:e,help:"",visible:!0,required:!1,readonly:!1,validate:!0,enable:!0,update:r},n)}function oe(e){var n=this;return c.memo(function(t){var a=t.name,i=e.useState(),u=F()(i,2),l=u[0],s=u[1],v=Array.isArray(a)?a:a.split("."),f=["fields"].concat(C()(v)),b=(0,h.getVal)(l,f),g=se(f,s),d=(0,c.useState)(function(){return M(n.getFieldName(v),b,g)}),p=F()(d,2),y=p[0],N=p[1];return(0,c.useEffect)(function(){N(M(n.getFieldName(v),b,g))},[b]),Array.isArray(t.children)?t.children.map(function(Ge){return Ge(y)}):t.children(y)},function(r,t){return r.name===t.name})}var ce=o(76120);function U(e){return e.value}function T(e){var n={};return Object.entries(e).forEach(function(r){var t=_slicedToArray(r,2),a=t[0],i=t[1];typeof a=="string"&&(isFieldValue(i)?n[a]=U(i):isFieldGroup(i)?n[a]=T(i):isFieldList(i)?n[a]=z(i):n[a]=i)}),n}function z(e){var n=[];return e.forEach(function(r){isFieldValue(r)?n.push(U(r)):isFieldGroup(r)?n.push(T(r)):isFieldList(r)?n.push(z(r)):n.push(r)}),n}function Ke(e,n){return T(e)}function Me(e,n,r){var t=Object.assign({},r),a=t.onNotMatch,i=a===void 0?function(){}:a;function u(l,s){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object.entries(l).forEach(function(f){var b=_slicedToArray(f,2),g=b[0],d=b[1];if(typeof g=="string"){var p=[].concat(_toConsumableArray(v),[g]);if(g in s){var y=s[g];isFieldValue(y)?y.value=d:isFieldGroup(y)?isPlainObject(d)?u(d,y,p):i(p):isFieldList(y)?Array.isArray(d)?u(d,y):i(p):s[g]=d}else i(p)}})}u(n,e)}function Ue(e,n){var r=new FormData,t=Object.assign({getItemName:function(l){return l.join(".")}},n),a=t.getItemName;function i(u,l){if(l!=null){var s=a?a(u):u.join(".");Array.isArray(l)?l.forEach(function(v,f){i([].concat(_toConsumableArray(u),[String(f)]),v)}):isPlainObject(l)?Object.entries(l).forEach(function(v){var f=_slicedToArray(v,2),b=f[0],g=f[1];i([].concat(_toConsumableArray(u),[b]),g)}):r.append(s,l)}}return i([],e),r}function W(e,n){return function(){var r=R()(P()().mark(function t(a){var i;return P()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=Object.assign({},n,a),l.next=3,e.execute.run(i);case 3:if(!e.execute.error){l.next=7;break}throw new Error(e.execute.error);case 7:return l.abrupt("return",e.execute.result);case 8:case"end":return l.stop()}},t)}));return function(t){return r.apply(this,arguments)}}()}function fe(e,n){var r=(0,c.useCallback)(function(a){var i=Object.assign({},{noReentry:!0,preventDefault:!0},n,a),u=W(e,i);return function(l){u(),l&&i.preventDefault&&typeof l.preventDefault=="function"&&l.preventDefault()}},[]),t=(0,c.useCallback)(function(a){e.execute.cancel(),a&&typeof a.preventDefault=="function"&&a.preventDefault()},[]);return[r,t]}function de(e,n){return(0,c.useCallback)(function(r){var t=(0,h.getValueByPath)(e,[].concat(C()(Array.isArray(n)?n:n.split(".")),["execute"]));t.cancel(),r&&typeof r.preventDefault=="function"&&r.preventDefault()},[])}function ve(e,n,r,t){return Object.assign({help:"",title:"",visible:!0,enable:!0},(0,ce.C)(e,"execute"),A()(A()({},e.execute),{},{run:n,cancel:r,ref:t}))}var $=c.memo(function(e){return(0,m.jsx)(m.Fragment,{children:typeof e.children=="function"&&e.children(e.actionProps)})},function(e,n){return Object.entries(e.actionProps).every(function(r){var t=F()(r,2),a=t[0],i=t[1];return["children","run","cancel"].includes(a)?!0:i===n.actionProps[a]})});function me(e,n,r){function t(a){var i=e.useState(),u=F()(i,1),l=u[0],s=a.name,v=(0,h.getValueByPath)(l,s,"."),f=fe(v,n),b=F()(f,1),g=b[0],d=de(l,s),p=(0,c.useRef)(null),y=ve(v,g,d,p);if(typeof a.render=="function")return(0,m.jsx)($,{actionProps:y,children:a.render});if(a.children)return Array.isArray(a.children)?a.children.map(function(N){return(0,m.jsx)($,{actionProps:y,children:N})}):(0,m.jsx)($,{actionProps:y,children:a.children})}return c.memo(t,function(a,i){return a.name===i.name})}function he(e,n){return computed(function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,i){var u;return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=getFormData(getSnap(a,!1).fields),s.next=3,e(u,i);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},t)}));return function(t,a){return r.apply(this,arguments)}}(),[],n)}function ze(e,n){return he(function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,i){var u;return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=new FormData,s.next=3,e(u,i);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},t)}));return function(t,a){return r.apply(this,arguments)}}(),n)}var ge=o(83443);function pe(e){return e.length>1&&e[0]==j&&e[e.length-1]=="value"}function ye(e){return(0,h.watch)(function(n,r){var t=r.getSelfValue,a=r.srcPath,i=r.selfPath;if((0,h.isIncludePath)(e||i,a)){var u=t();if(!u)return!0}},function(n){return pe(n)},{initial:!1})}var We=o(41176),Ye=o(77937),Je=o(65523),Qe=o(7122),Xe=o(19108),Ze=null;function be(e){return e.length>1&&e[0]==j&&(e[e.length-1]==="validate"||e.length>=2&&e[e.length-2]=="validate"&&e[e.length-1]=="result")&&!(e.length==2&&e[1]=="validate")&&!(e.length==3&&e[1]=="validate"&&e[2]=="result")}function je(e){var n=Object.assign({},e),r=n.entry;return(0,h.watch)(function(t,a){var i=a.srcPath,u=a.selfPath,l=a.getCache;if((0,h.isIncludePath)(r||u,i)){var s=l();if(typeof t=="boolean"){var v=i.join(h.OBJECT_PATH_DELIMITER);t?delete s[v]:s[v]=t}return Object.keys(s).length==0}},function(t){return be(t)},{initial:!0})}function ke(e,n){var r=typeof e=="function"?e():e;if(!r)throw new ValidationError(typeof n=="function"?n():n)}var Fe={title:"SpeedForm",help:"",tips:"",status:"idle",dirty:ye(["fields"]),validate:je({entry:["fields"]}),readonly:!1,enable:!0,visible:!0};function Ae(e){var n={};return Object.entries(e||{}).forEach(function(r){var t=F()(r,2),a=t[0],i=t[1];E(i)||te(i)||ne(i)||(n[a]=i)}),n}function Ce(e){return Object.assign({type:"submit",help:"",title:"",dirty:!1,validate:!0,visible:!0,enable:!0,readOnly:!0},Ae(e))}var G=c.memo(function(e){return(0,m.jsx)(m.Fragment,{children:typeof e.children=="function"&&e.children(e.submitProps)})},function(e,n){return Object.entries(e.submitProps).every(function(r){var t=F()(r,2),a=t[0],i=t[1];return["children","render"].includes(a)?!0:i===n.submitProps[a]})}),Pe=c.forwardRef(function(e,n){var r,t,a=e.visible;return(0,m.jsx)("input",{type:(r=e.type)!==null&&r!==void 0?r:"submit",ref:n,value:(t=e.title)!==null&&t!==void 0?t:"\u63D0\u4EA4",style:A()({display:a?"inline-block":"none",minWidth:"80px",cursor:"pointer",boxSizing:"border-box",margin:"2px"},e.style)})});function Y(e,n,r){var t=Object.assign({preventDefault:!1},n);function a(i){var u=e.useState(),l=F()(u,1),s=l[0],v=(0,c.useRef)(null),f=i.scope,b=(0,h.getValueByPath)(s,f),g=Ce(b),d=typeof i.render=="function"?1:Array.isArray(i.children)?2:typeof i.children=="function"?3:0;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Pe,A()({ref:v,visible:d==0},t)),d===1?(0,m.jsx)(G,{submitProps:g,children:i.render}):d===2?i.children.map(function(p){return(0,m.jsx)(G,{submitProps:g,children:p})}):(0,m.jsx)(G,{submitProps:g,children:i.children})]})}return c.memo(a,function(i,u){return i.name===u.name})}function Oe(e,n,r){return Y(e,A()({type:"submit",title:"\u63D0\u4EA4",style:{borderRadius:"4px",padding:"8px",background:"#1c8ceb",border:"1px solid #1c8ceb",color:"#fff"}},n),r)}function Se(e,n,r){return Y(e,A()({type:"reset",title:"\u91CD\u7F6E",style:{borderRadius:"4px",padding:"8px",background:"#eee",border:"1px solid #bbb"}},n),r)}function xe(e,n,r){e.length>=2&&e[0]==j&&e[e.length-1]=="validate"&&(r.scope||(r.scope="value"),r.depends||(r.depends=[]),r.depends.push([].concat(C()(e.slice(0,-1)),["value"])),r.initial=!0)}function Re(e){(0,ge.w)(e,Fe)}function Ve(e,n,r){e.length>1&&e[e.length-1]=="execute"&&(r.immediate=!1,r.scope=[j],r.noReentry=!0)}function Ee(e,n,r){e.length>0&&e[0]==j&&r.depends&&r.depends.forEach(function(t,a){Array.isArray(t)&&t.length>0&&t[0]!=j?r.depends[a]=[j].concat(C()(t)):typeof t=="string"&&!t.startsWith("".concat(j,"."))&&(r.depends[a]="".concat(j,".").concat(t))})}function De(e,n){var r=(0,K.w)({getFieldName:function(i){return i.length>0?i[i.length-1]==="value"?i.slice(0,-1).join("."):i.join("."):""},singleton:!0},n);Re(e);var t=(0,h.createStore)({state:e},{debug:r.debug,singleton:r.singleton,computedThis:h.ComputedScopeRef.Root,computedScope:[j],onCreateComputed:function(i,u,l){xe(i,u,l),Ee(i,u,l),Ve(i,u,l)},onComputedContext:function(i,u){var l=u.type,s=u.valuePath;if(l=="scope"&&s.length>0&&s[0]==j)return i.fields}});return{Form:Te.call(r,t),Field:le.call(r,t),Group:oe.call(r,t),Action:me(t,{},r),Submit:Oe(t,{},r),Reset:Se(t,{},r),getAction:W,fields:H(function(){return t.state.fields}),actions:H(function(){return t.state.actions}),state:t.state,useState:t.useState}}function Te(e){return c.forwardRef(function(n,r){var t=n.children,a=(0,c.useCallback)(function(u){},[]),i=(0,c.useCallback)(function(u){},[]);return(0,m.jsx)("form",A()(A()({ref:r,className:"speedform-form"},n),{},{onSubmit:a,onReset:i,children:t}))})}var $e=o(99166),O=o.n($e),J={title:"\u7F51\u7EDC\u914D\u7F6E",fields:{title:{value:"React-Helux-Form",placeholder:"\u8F93\u5165\u7F51\u7EDC\u914D\u7F6E\u540D\u79F0",title:"\u7F51\u7EDC\u540D\u79F0",validate:function(n){return n.length>3}},interface:{value:"wifi",title:"\u7F51\u5361\u7C7B\u578B",select:function(){return[{value:"wifi",title:"\u65E0\u7EBF\u7F51\u5361"},{value:"ethernet",title:"\u6709\u7EBF\u7F51\u5361"}]}},ip:{value:"1.1.1.1",title:"IP\u5730\u5740",validate:(0,h.computed)(function(){var e=R()(P()().mark(function n(r){return P()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I(2e3);case 2:return a.abrupt("return",O().isIP(String(r)));case 3:case"end":return a.stop()}},n)}));return function(n){return e.apply(this,arguments)}}(),[],{async:!0})},gateway:{value:"1.1.1.1",title:"\u7F51\u5173\u5730\u5740",validate:function(n){return O().isIP(n)}},dhcp:{enable:{title:"\u81EA\u52A8\u83B7\u53D6IP\u5730\u5740",value:!0},start:{title:"\u8D77\u59CB\u5730\u5740",value:"192.168.1.1",enable:(0,h.computed)(function(e){return e.enable.value},{scope:h.ComputedScopeRef.Parent}),validate:function(n){return O().isIP(n)}},end:{title:"\u7ED3\u675F\u5730\u5740",value:"192.168.1.100",enable:(0,h.computed)(function(e){return e.dhcp.enable.value},{scope:h.ComputedScopeRef.Root}),validate:function(n){return O().isIP(n)}}},wifi:{title:"\u65E0\u7EBF\u914D\u7F6E",visible:function(n){return console.log("net=",n),n.interface.value==="wifi"},ssid:{value:"fast",placeholder:"\u65E0\u7EBF\u7F51\u7EDC",validate:function(n){return n.length>3}},password:{value:"123",placeholder:"\u8F93\u5165\u65E0\u7EBF\u5BC6\u7801",help:"\u5BC6\u7801\u957F\u5EA6\u5E94\u4E0D\u5C0F\u4E8E6\u4F4D",enable:function(n){return n.interface.value==="wifi"},validate:function(n){return n.length>=6}}}}},Q=De(J,{debug:!0});globalThis.Network=Q}}]);
